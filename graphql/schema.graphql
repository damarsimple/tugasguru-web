#import types.graphql
#import student/*.graphql
#import teacher/*.graphql
#import user/*.graphql

type Query {
    attachments(
        where: _ @whereConditions(columns: ["id", "status"])
    ): [Attachment!]! @can(ability: "viewAny") @paginate(type: CONNECTION)
    forms: [Form!]! @can(ability: "viewAny") @paginate(type: CONNECTION)
    provinces: [Province!]! @all
    cities: [City!]! @all
    me: User @auth
    user(id: ID! @eq): User @find
    school(id: ID! @eq): School @find
    report(id: ID! @eq): Report @find
    consultation(id: ID! @eq): Consultation
        @find
        @can(ability: "view", find: "id")
    attendance(id: ID! @eq): Attendance @find
    assigment(id: ID! @eq): Assigment @find
    transaction(id: ID! @eq): Transaction @find
    accesses: [Access!]! @all
    examtypes: [Examtype!]! @all
    subjects: [Subject!]! @all
    classtypes: [Classtype!]! @all
    schooltypes: [Schooltype!]! @all
    article(slug: String! @eq): Article @find
    quizzez(
        where: _ @whereConditions(columns: ["subject_id", "classtype_id"])
    ): [Quiz]!
        @paginate(type: CONNECTION)
        @orderBy(column: "created_at", direction: DESC)
    questions(
        where: _ @whereConditions(columns: ["subject_id", "classtype_id"])
    ): [Question]!
        @paginate(type: CONNECTION)
        @orderBy(column: "created_at", direction: DESC)
    packagequestions(
        where: _ @whereConditions(columns: ["subject_id", "classtype_id"])
    ): [Packagequestion]!
        @paginate(type: CONNECTION)
        @orderBy(column: "created_at", direction: DESC)
}
